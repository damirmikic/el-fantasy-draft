<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EuroLeague Fantasy Draft</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for a premium feel */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* slate-900 */
            background-image: url('https://www.transparenttextures.com/patterns/cubes.png');
        }
        .timer-bar-inner {
            transition: width 1s linear;
        }
        .current-turn-glow {
            box-shadow: 0 0 15px 2px rgba(20, 184, 166, 0.7); /* teal-500 */
        }
        .table-scrollbar::-webkit-scrollbar { height: 8px; width: 8px; }
        .table-scrollbar::-webkit-scrollbar-track { background: #1e293b; } /* slate-800 */
        .table-scrollbar::-webkit-scrollbar-thumb { background-color: #475569; border-radius: 4px; } /* slate-600 */
        .table-scrollbar::-webkit-scrollbar-thumb:hover { background-color: #64748b; } /* slate-500 */
        .watchlist-star.active {
            color: #facc15; /* yellow-400 */
        }
        .filter-button.active, .tab-button.active {
            background-color: #14b8a6; /* teal-500 */
            color: white;
        }
    </style>
</head>
<body class="text-slate-300">

    <div id="app-container">
        
        <!-- LANDING SCREEN -->
        <div id="landing-screen" class="min-h-screen flex items-center justify-center p-4">
            <div class="max-w-md w-full mx-auto bg-slate-800/50 backdrop-blur-md p-8 rounded-2xl border border-slate-700 shadow-2xl shadow-black/30 text-center">
                <h1 class="text-4xl font-bold text-white mb-2">Welcome!</h1>
                <p class="text-slate-400 mb-8">Create a new draft room to share with friends, or join an existing one using its ID.</p>
                <div class="space-y-4">
                    <button id="create-draft-button" class="w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105 shadow-lg shadow-teal-500/20 text-lg">
                        Create New Draft Room
                    </button>
                    <div class="relative flex items-center">
                         <input type="text" id="join-draft-id-input" placeholder="Or enter Room ID to join..." class="w-full bg-slate-700 border-slate-600 rounded-md py-3 px-4 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition text-lg" />
                         <button id="join-draft-button" class="bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 rounded-md absolute right-2 top-1/2 -translate-y-1/2">Join</button>
                    </div>
                </div>
            </div>
        </div>


        <!-- SETUP SCREEN -->
        <div id="setup-screen" class="hidden min-h-screen flex items-center justify-center p-4">
            <div class="max-w-3xl w-full mx-auto bg-slate-800/50 backdrop-blur-md p-8 rounded-2xl border border-slate-700 shadow-2xl shadow-black/30 text-center">
                <h1 class="text-4xl font-bold text-white mb-2">Draft Room Setup</h1>
                <p class="text-slate-400 mb-2">Share the Room ID with your friends so they can join.</p>
                <div class="bg-slate-900/50 p-2 rounded-md inline-block mb-6 font-mono text-lg text-teal-300 tracking-widest cursor-pointer" id="draft-id-display" title="Click to copy Room ID"></div>
                
                <div id="join-form" class="flex flex-col sm:flex-row gap-4 mb-8 max-w-lg mx-auto">
                    <input type="text" id="team-name-input" placeholder="Enter your team name" class="w-full bg-slate-700 border-slate-600 rounded-md py-3 px-4 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition text-lg" />
                    <button id="join-button" class="bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105 shadow-lg shadow-teal-500/20 text-lg">
                        Join Draft
                    </button>
                </div>
                
                <div id="admin-controls" class="hidden my-6 max-w-lg mx-auto">
                    <div class="flex flex-col sm:flex-row gap-4">
                        <div class="flex-grow">
                            <label for="time-per-pick-input" class="block text-sm font-medium text-slate-400 mb-1 text-left">Time per Pick (seconds)</label>
                            <input type="number" id="time-per-pick-input" value="60" class="w-full bg-slate-700 border-slate-600 rounded-md py-3 px-4 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition text-lg" />
                        </div>
                        <div class="self-end w-full sm:w-auto">
                            <button id="start-button" class="w-full bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white font-bold py-3 px-8 rounded-lg transition-transform transform hover:scale-105 shadow-lg shadow-blue-500/20 text-lg">
                                Start Draft
                            </button>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-900/50 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold mb-4 text-white">Joined Teams</h3>
                    <div id="teams-list" class="space-y-2 max-h-60 overflow-y-auto">
                        <p class="text-slate-500 py-4">No teams have joined yet.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- DRAFT SCREEN -->
        <div id="draft-screen" class="hidden max-w-7xl mx-auto p-4 md:p-6">
            <header class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div class="bg-slate-800/60 p-4 rounded-xl border border-slate-700 text-center">
                    <p class="text-slate-400 text-sm">Round / Pick</p>
                    <p id="round-pick-status" class="text-3xl font-bold text-white">- / -</p>
                </div>
                <div id="on-the-clock-card" class="bg-slate-800/60 p-4 rounded-xl border-2 border-teal-500 text-center">
                    <p class="text-slate-400 text-sm">On the Clock</p>
                    <p id="on-the-clock-team" class="text-2xl font-bold text-teal-300 truncate">...</p>
                </div>
                <div class="bg-slate-800/60 p-4 rounded-xl border border-slate-700 text-center">
                    <p class="text-slate-400 text-sm">Time Remaining</p>
                    <div class="w-full bg-slate-700 rounded-full h-2.5 mt-2">
                        <div id="timer-bar" class="bg-teal-500 h-2.5 rounded-full timer-bar-inner" style="width: 100%"></div>
                    </div>
                    <p id="timer-display" class="font-mono text-2xl font-bold text-white mt-1">--:--</p>
                    <p id="timer-message" class="text-yellow-400 text-xs h-4 mt-1 animate-pulse"></p>
                </div>
            </header>

            <div id="teams-bar" class="bg-slate-800/60 backdrop-blur-sm p-4 rounded-xl border border-slate-700 mb-6">
                 <div id="teams-bar-grid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                    <!-- Team cards will be injected here -->
                 </div>
            </div>

            <div class="bg-slate-800/60 backdrop-blur-sm p-4 rounded-xl border border-slate-700">
                <div class="border-b border-slate-700 mb-4">
                    <nav class="-mb-px flex space-x-6" id="draft-tabs">
                        <button data-tab="players" class="tab-button active whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg border-teal-500 text-teal-400">Available Players</button>
                        <button data-tab="board" class="tab-button whitespace-nowrap py-3 px-1 border-b-2 font-medium text-lg border-transparent text-slate-400 hover:text-white hover:border-slate-300">Draft Board</button>
                    </nav>
                </div>

                <div id="players-tab-content">
                    <div class="flex flex-col lg:flex-row justify-between items-center mb-4 gap-4">
                         <h2 class="text-2xl font-bold text-white sr-only">Available Players</h2>
                        <div class="flex flex-col sm:flex-row items-center gap-4 w-full lg:w-auto">
                            <div class="relative w-full sm:w-auto flex-grow">
                                 <input type="text" id="search-input" placeholder="Search player or team..." class="w-full sm:w-64 bg-slate-700 border-slate-600 rounded-md py-2 pl-10 pr-4 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition" />
                                 <div class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                                 </div>
                            </div>
                             <div id="filter-controls" class="flex flex-wrap gap-2 justify-center">
                                <!-- Filter buttons will be injected here -->
                             </div>
                        </div>
                    </div>
                   
                    <div class="overflow-x-auto table-scrollbar">
                        <table class="w-full text-left">
                            <thead class="border-b-2 border-slate-700">
                                <tr>
                                    <th class="p-3 w-12"></th>
                                    <th class="p-3">Player</th>
                                    <th class="p-3 text-center">Position</th>
                                    <th class="p-3 text-center">Price</th>
                                    <th class="p-3"></th>
                                </tr>
                            </thead>
                            <tbody id="players-table-body"></tbody>
                        </table>
                    </div>
                </div>

                <div id="board-tab-content" class="hidden">
                     <div class="overflow-y-auto max-h-[60vh] table-scrollbar">
                        <table class="w-full text-left">
                            <thead class="border-b-2 border-slate-700 sticky top-0 bg-slate-800">
                                <tr>
                                    <th class="p-3">Pick</th>
                                    <th class="p-3">Player</th>
                                    <th class="p-3">Team</th>
                                </tr>
                            </thead>
                            <tbody id="draft-board-body"></tbody>
                        </table>
                    </div>
                </div>

            </div>
             <div class="mt-8 text-center" id="admin-reset-button-container"></div>
        </div>
        
        <!-- FINISHED SCREEN -->
        <div id="finished-screen" class="hidden min-h-screen flex items-center justify-center p-4">
             <div class="max-w-6xl w-full mx-auto bg-slate-800/50 backdrop-blur-md p-8 rounded-2xl border border-slate-700 shadow-2xl shadow-black/30 text-center">
                 <h1 class="text-5xl font-bold text-teal-400 mb-4">Draft Complete!</h1>
                 <p class="text-slate-400 mb-8 text-lg">The draft is officially over. Here are the final team rosters.</p>
                 <div id="final-rosters" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                     <!-- Final rosters will be injected here -->
                 </div>
                 <button id="new-draft-button" class="mt-8 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-bold py-3 px-8 rounded-lg">Start a New Draft</button>
             </div>
        </div>

    </div>

    <!-- Firebase and App Logic -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, setDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

        // --- CONFIGURATION ---
        const firebaseConfig = {
            apiKey: "AIzaSyCX58DV3Td_hopn9b4R7oNDAhM-uTvxpQ4",
            authDomain: "el-fantasy-draft.firebaseapp.com",
            projectId: "el-fantasy-draft",
            storageBucket: "el-fantasy-draft.firebasestorage.app",
            messagingSenderId: "135822329305",
            appId: "1:135822329305:web:56b5a49dd8c33aa20345c8",
        };
        const appId = 'el-fantasy-draft-single-file'; // Unique ID for this app's data
        const ROSTER_SIZE = { 'Guard': 4, 'Forward': 4, 'Center': 2 };
        const TOTAL_ROUNDS = Object.values(ROSTER_SIZE).reduce((a, b) => a + b, 0);
        const FUNNY_MESSAGES = [
            "The clock is mocking you.", "Feeling the pressure?", "Are you building a team or a nap schedule?",
            "Even a snail would have picked by now.", "Your fans are getting restless.", "Did you forget your pick?",
            "Analysis paralysis is real.", "Just click a button. Any button.", "The other teams are aging rapidly."
        ];

        // --- UPDATED PLAYER DATA ---
        const PLAYERS_LIST = [
            { id: 1, name: "Sasha Vezenkov", position: "Forward", team: "Olympiacos Piraeus", credits: 16.0 },
            { id: 2, name: "Vasilije Micic", position: "Guard", team: "Hapoel IBI Tel Aviv", credits: 15.7 },
            { id: 3, name: "Kendrick Nunn", position: "Guard", team: "Panathinaikos AKTOR Athens", credits: 15.6 },
            { id: 4, name: "Nikola Mirotic", position: "Forward", team: "AS Monaco", credits: 15.5 },
            { id: 5, name: "Tornike Shengelia", position: "Forward", team: "FC Barcelona", credits: 15.5 },
            { id: 6, name: "Mathias Lessort", position: "Center", team: "Panathinaikos AKTOR Athens", credits: 15.4 },
            { id: 7, name: "Chima Moneke", position: "Forward", team: "Crvena Zvezda Meridianbet Belgrade", credits: 15.3 },
            { id: 8, name: "Mike James", position: "Guard", team: "AS Monaco", credits: 15.2 },
            { id: 9, name: "Zach Leday", position: "Forward", team: "EA7 Emporio Armani Milan", credits: 15.2 },
            { id: 10, name: "Walter Tavares", position: "Center", team: "Real Madrid", credits: 15.0 },
            { id: 11, name: "Facundo Campazzo", position: "Guard", team: "Real Madrid", credits: 15.0 },
            { id: 12, name: "Carlik Jones", position: "Guard", team: "Partizan Mozzart Bet Belgrade", credits: 14.9 },
            { id: 13, name: "Tyrique Jones", position: "Center", team: "Partizan Mozzart Bet Belgrade", credits: 14.5 },
            { id: 14, name: "TJ Shorts", position: "Guard", team: "Panathinaikos AKTOR Athens", credits: 14.3 },
            { id: 15, name: "Jaylen Hoard", position: "Forward", team: "Maccabi Rapyd Tel Aviv", credits: 14.3 },
            { id: 16, name: "Sylvain Francisco", position: "Guard", team: "Zalgiris Kaunas", credits: 14.1 },
            { id: 17, name: "Carsen Edwards", position: "Guard", team: "Virtus Bologna", credits: 14.1 },
            { id: 18, name: "Juancho Hernangomez", position: "Forward", team: "Panathinaikos AKTOR Athens", credits: 14.0 },
            { id: 19, name: "Lonnie Walker IV", position: "Guard", team: "Maccabi Rapyd Tel Aviv", credits: 14.0 },
            { id: 20, name: "Mario Hezonja", position: "Forward", team: "Real Madrid", credits: 13.9 },
            { id: 21, name: "Shavon Shields", position: "Forward", team: "EA7 Emporio Armani Milan", credits: 13.8 },
            { id: 22, name: "Shane Larkin", position: "Guard", team: "Anadolu Efes Istanbul", credits: 13.6 },
            { id: 23, name: "Kevin Punter", position: "Guard", team: "FC Barcelona", credits: 13.5 },
            { id: 24, name: "Johnathan Motley", position: "Center", team: "Hapoel IBI Tel Aviv", credits: 13.5 },
            { id: 25, name: "Theo Maledon", position: "Guard", team: "Real Madrid", credits: 13.3 },
            { id: 26, name: "Chuma Okeke", position: "Forward", team: "Real Madrid", credits: 13.3 },
            { id: 27, name: "Dzanan Musa", position: "Forward", team: "Dubai Basketball", credits: 13.2 },
            { id: 28, name: "Will Clyburn", position: "Forward", team: "FC Barcelona", credits: 13.0 },
            { id: 29, name: "Elijah Bryant", position: "Guard", team: "Hapoel IBI Tel Aviv", credits: 13.0 },
            { id: 30, name: "Evan Fournier", position: "Guard", team: "Olympiacos Piraeus", credits: 13.0 },
            { id: 31, name: "Daniel Theis", position: "Center", team: "AS Monaco", credits: 13.0 },
            { id: 32, name: "Brandon Boston", position: "Guard", team: "Fenerbahce Beko Istanbul", credits: 12.9 },
            { id: 33, name: "Keenan Evans", position: "Guard", team: "Olympiacos Piraeus", credits: 12.8 },
            { id: 34, name: "Vincent Poirier", position: "Center", team: "Anadolu Efes Istanbul", credits: 12.8 },
            { id: 35, name: "Donta Hall", position: "Center", team: "Olympiacos Piraeus", credits: 12.8 },
            { id: 36, name: "Willy Hernangomez", position: "Center", team: "FC Barcelona", credits: 12.7 },
            { id: 37, name: "Richaun Holmes", position: "Center", team: "Panathinaikos AKTOR Athens", credits: 12.7 },
            { id: 38, name: "Kostas Sloukas", position: "Guard", team: "Panathinaikos AKTOR Athens", credits: 12.6 },
            { id: 39, name: "Rokas Jokubaitis", position: "Guard", team: "FC Bayern Munich", credits: 12.6 },
            { id: 40, name: "Joel Bolomboy", position: "Center", team: "Crvena Zvezda Meridianbet Belgrade", credits: 12.5 },
            { id: 41, name: "Devin Booker", position: "Center", team: "EA7 Emporio Armani Milan", credits: 12.5 },
            { id: 42, name: "Nikola Milutinov", position: "Center", team: "Olympiacos Piraeus", credits: 12.4 },
            { id: 43, name: "Nando De Colo", position: "Guard", team: "LDLC ASVEL Villeurbanne", credits: 12.4 },
            { id: 44, name: "Oshae Brissett", position: "Forward", team: "Maccabi Rapyd Tel Aviv", credits: 12.4 },
            { id: 45, name: "Shake Milton", position: "Guard", team: "Partizan Mozzart Bet Belgrade", credits: 12.4 },
            { id: 46, name: "Filip Petrusev", position: "Forward", team: "Dubai Basketball", credits: 12.3 },
            { id: 47, name: "Elie Okobo", position: "Guard", team: "AS Monaco", credits: 12.2 },
            { id: 48, name: "Jabari Parker", position: "Forward", team: "Partizan Mozzart Bet Belgrade", credits: 12.1 },
            { id: 49, name: "Mfiondu Kabengele", position: "Center", team: "Dubai Basketball", credits: 12.1 },
            { id: 50, name: "Cedi Osman", position: "Forward", team: "Panathinaikos AKTOR Athens", credits: 12.1 },
            { id: 51, name: "Wenyen Gabriel", position: "Center", team: "FC Bayern Munich", credits: 12.0 },
            { id: 52, name: "Josh Nebo", position: "Center", team: "EA7 Emporio Armani Milan", credits: 12.0 },
            { id: 53, name: "Jean Montero", position: "Guard", team: "Valencia Basket", credits: 12.0 },
            { id: 54, name: "Devonte' Graham", position: "Guard", team: "Crvena Zvezda Meridianbet Belgrade", credits: 12.0 },
            { id: 55, name: "Jeff Dowtin Jr.", position: "Guard", team: "Maccabi Rapyd Tel Aviv", credits: 12.0 },
            { id: 56, name: "Trey Lyles", position: "Forward", team: "Real Madrid", credits: 12.0 },
            { id: 57, name: "Chris Jones", position: "Guard", team: "Hapoel IBI Tel Aviv", credits: 11.8 },
            { id: 58, name: "Dwayne Bacon", position: "Forward", team: "Dubai Basketball", credits: 11.7 },
            { id: 59, name: "Marko Guduric", position: "Guard", team: "EA7 Emporio Armani Milan", credits: 11.5 },
            { id: 60, name: "Justin Robinson", position: "Guard", team: "Paris Basketball", credits: 11.5 },
            { id: 61, name: "Armando Bacot", position: "Center", team: "Fenerbahce Beko Istanbul", credits: 11.5 },
            { id: 62, name: "Norris Miles", position: "Forward", team: "FC Barcelona", credits: 11.4 },
            { id: 63, name: "T.J. Leaf", position: "Forward", team: "Maccabi Rapyd Tel Aviv", credits: 11.4 },
            { id: 64, name: "Nicolas Laprovittola", position: "Guard", team: "FC Barcelona", credits: 11.3 },
            { id: 65, name: "Vlatko Cancar", position: "Forward", team: "EA7 Emporio Armani Milan", credits: 11.2 },
            { id: 66, name: "Jan Vesely", position: "Center", team: "FC Barcelona", credits: 11.1 },
            { id: 67, name: "Darius Thompson", position: "Guard", team: "Valencia Basket", credits: 11.0 },
            { id: 68, name: "Nadir Hifi", position: "Guard", team: "Paris Basketball", credits: 11.0 },
            { id: 69, name: "Cole Swider", position: "Forward", team: "Anadolu Efes Istanbul", credits: 10.9 },
            { id: 70, name: "Alpha Diallo", position: "Forward", team: "AS Monaco", credits: 10.8 },
            { id: 71, name: "Isaia Cordinier", position: "Guard", team: "Anadolu Efes Istanbul", credits: 10.8 },
            { id: 72, name: "Kai Jones", position: "Center", team: "Anadolu Efes Istanbul", credits: 10.8 },
            { id: 73, name: "Gabriel Deck", position: "Forward", team: "Real Madrid", credits: 10.7 },
            { id: 74, name: "Tadas Sedekerskis", position: "Forward", team: "Baskonia Vitoria-Gasteiz", credits: 10.7 },
            { id: 75, name: "Lorenzo Brown", position: "Guard", team: "EA7 Emporio Armani Milan", credits: 10.6 },
            { id: 76, name: "Moustapha Fall", position: "Center", team: "Olympiacos Piraeus", credits: 10.6 },
            { id: 77, name: "Matthew Costello", position: "Forward", team: "Valencia Basket", credits: 10.6 },
            { id: 78, name: "Codi Miller-McIntyre", position: "Guard", team: "Crvena Zvezda Meridianbet Belgrade", credits: 10.5 },
            { id: 79, name: "Alec Peters", position: "Forward", team: "Olympiacos Piraeus", credits: 10.5 },
            { id: 80, name: "Moses Wright", position: "Center", team: "Zalgiris Kaunas", credits: 10.5 },
            { id: 81, name: "Semi Ojeleye", position: "Forward", team: "Crvena Zvezda Meridianbet Belgrade", credits: 10.5 },
            { id: 82, name: "Hamidou Diallo", position: "Forward", team: "Baskonia Vitoria-Gasteiz", credits: 10.5 },
            { id: 83, name: "Bruno Caboclo", position: "Forward", team: "Hapoel IBI Tel Aviv", credits: 10.4 },
            { id: 84, name: "Sterling Brown", position: "Guard", team: "Partizan Mozzart Bet Belgrade", credits: 10.4 },
            { id: 85, name: "Nick Weiler-Babb", position: "Guard", team: "Anadolu Efes Istanbul", credits: 10.4 },
            { id: 86, name: "McKinley Wright", position: "Guard", team: "Dubai Basketball", credits: 10.4 },
            { id: 87, name: "Wade Baldwin IV", position: "Guard", team: "Fenerbahce Beko Istanbul", credits: 10.3 },
            { id: 88, name: "Jordan Nwora", position: "Forward", team: "Crvena Zvezda Meridianbet Belgrade", credits: 10.3 },
            { id: 89, name: "Dan Oturu", position: "Center", team: "Hapoel IBI Tel Aviv", credits: 10.3 },
            { id: 90, name: "Neal Sako", position: "Center", team: "Valencia Basket", credits: 10.3 },
            { id: 91, name: "Roman Sorkin", position: "Forward", team: "Maccabi Rapyd Tel Aviv", credits: 10.2 },
            { id: 92, name: "Tyler Ennis", position: "Guard", team: "Hapoel IBI Tel Aviv", credits: 10.2 },
            { id: 93, name: "Tomas Satoransky", position: "Guard", team: "FC Barcelona", credits: 10.1 },
            { id: 94, name: "Jasiel Rivero", position: "Center", team: "Crvena Zvezda Meridianbet Belgrade", credits: 10.1 },
            { id: 95, name: "Jaime Pradilla", position: "Center", team: "Valencia Basket", credits: 10.1 },
            { id: 96, name: "Brandon Taylor", position: "Guard", team: "Virtus Bologna", credits: 10.1 },
            { id: 97, name: "Jerian Grant", position: "Guard", team: "Panathinaikos AKTOR Athens", credits: 10.0 },
            { id: 98, name: "Nigel Williams-Goss", position: "Guard", team: "Zalgiris Kaunas", credits: 10.0 },
            { id: 99, name: "Luka Samanic", position: "Center", team: "Baskonia Vitoria-Gasteiz", credits: 10.0 },
            { id: 100, name: "Lamar Stevens", position: "Forward", team: "Paris Basketball", credits: 10.0 },
            { id: 101, name: "Omari Moore", position: "Guard", team: "Valencia Basket", credits: 10.0 },
            { id: 102, name: "Mamadi Diakite", position: "Forward", team: "Baskonia Vitoria-Gasteiz", credits: 10.0 },
            { id: 103, name: "Trent Forrest", position: "Guard", team: "Baskonia Vitoria-Gasteiz", credits: 9.9 },
            { id: 104, name: "Nikola Kalinic", position: "Forward", team: "Crvena Zvezda Meridianbet Belgrade", credits: 9.9 },
            { id: 105, name: "Zac Seljaas", position: "Forward", team: "LDLC ASVEL Villeurbanne", credits: 9.9 },
            { id: 106, name: "Tyson Ward", position: "Forward", team: "Olympiacos Piraeus", credits: 9.8 },
            { id: 107, name: "Maodo Lo", position: "Guard", team: "Zalgiris Kaunas", credits: 9.8 },
            { id: 108, name: "Derrick Alston Jr.", position: "Forward", team: "Virtus Bologna", credits: 9.8 },
            { id: 109, name: "Aliou Diarra", position: "Center", team: "Virtus Bologna", credits: 9.8 },
            { id: 110, name: "Glynn Watson", position: "Guard", team: "LDLC ASVEL Villeurbanne", credits: 9.8 },
            { id: 111, name: "Luca Vildoza", position: "Guard", team: "Virtus Bologna", credits: 9.7 },
            { id: 112, name: "Scottie Wilbekin", position: "Guard", team: "Fenerbahce Beko Istanbul", credits: 9.7 },
            { id: 113, name: "Nate Mason", position: "Guard", team: "Dubai Basketball", credits: 9.7 },
            { id: 114, name: "Markus Howard", position: "Guard", team: "Baskonia Vitoria-Gasteiz", credits: 9.6 },
            { id: 115, name: "Yam Madar", position: "Guard", team: "Hapoel IBI Tel Aviv", credits: 9.6 },
            { id: 116, name: "Thomas Huertel", position: "Guard", team: "LDLC ASVEL Villeurbanne", credits: 9.6 },
            { id: 117, name: "Nicolo Melli", position: "Center", team: "Fenerbahce Beko Istanbul", credits: 9.5 },
            { id: 118, name: "Xavier Rathan-Mayes", position: "Guard", team: "FC Bayern Munich", credits: 9.5 },
            { id: 119, name: "Dylan Osetkowski", position: "Forward", team: "Partizan Mozzart Bet Belgrade", credits: 9.5 },
            { id: 120, name: "Xabi Lopez-Arostegui", position: "Guard", team: "Valencia Basket", credits: 9.4 },
            { id: 121, name: "Davis Bertans", position: "Forward", team: "Dubai Basketball", credits: 9.4 },
            { id: 122, name: "Bonzie Colson", position: "Forward", team: "Fenerbahce Beko Istanbul", credits: 9.3 },
            { id: 123, name: "Jimmy Clark III", position: "Guard", team: "Maccabi Rapyd Tel Aviv", credits: 9.3 },
            { id: 124, name: "Tyson Carter", position: "Guard", team: "Crvena Zvezda Meridianbet Belgrade", credits: 9.3 },
            { id: 125, name: "Frank Ntilikina", position: "Guard", team: "Partizan Mozzart Bet Belgrade", credits: 9.2 },
            { id: 126, name: "Thomas Walkup", position: "Guard", team: "Olympiacos Piraeus", credits: 9.2 },
            { id: 127, name: "Johannes Voigtmann", position: "Center", team: "FC Bayern Munich", credits: 9.2 },
            { id: 128, name: "Tomer Ginat", position: "Forward", team: "Hapoel IBI Tel Aviv", credits: 9.2 },
            { id: 129, name: "Antonio Blakeney", position: "Guard", team: "Hapoel IBI Tel Aviv", credits: 9.2 },
            { id: 130, name: "Jordan Loyd", position: "Guard", team: "AS Monaco", credits: 9.1 },
            { id: 131, name: "Kameron Taylor", position: "Forward", team: "Valencia Basket", credits: 9.1 },
            { id: 132, name: "Konstantinos Mitoglou", position: "Forward", team: "Panathinaikos AKTOR Athens", credits: 9.0 },
            { id: 133, name: "Mikael Jantunen", position: "Forward", team: "Fenerbahce Beko Istanbul", credits: 9.0 },
            { id: 134, name: "Alen Smailagic", position: "Forward", team: "Virtus Bologna", credits: 9.0 },
            { id: 135, name: "Tai Odiase", position: "Center", team: "Hapoel IBI Tel Aviv", credits: 9.0 },
            { id: 136, name: "Karim Jallow", position: "Forward", team: "Virtus Bologna", credits: 9.0 },
            { id: 137, name: "Perry Dozier JR", position: "Guard", team: "Anadolu Efes Istanbul", credits: 9.0 },
            { id: 138, name: "Isaac Bonga", position: "Forward", team: "Partizan Mozzart Bet Belgrade", credits: 8.8 },
            { id: 139, name: "Dustin Sleva", position: "Forward", team: "Zalgiris Kaunas", credits: 8.8 },
            { id: 140, name: "Omer Yurtseven", position: "Center", team: "Panathinaikos AKTOR Athens", credits: 8.8 },
            { id: 141, name: "Saben Lee", position: "Guard", team: "Olympiacos Piraeus", credits: 8.8 },
            { id: 142, name: "Brancou Badio", position: "Guard", team: "Valencia Basket", credits: 8.7 },
            { id: 143, name: "Amath M'Baye", position: "Forward", team: "Paris Basketball", credits: 8.7 },
            { id: 144, name: "David Michineau", position: "Guard", team: "AS Monaco", credits: 8.6 },
            { id: 145, name: "Duane Washington", position: "Guard", team: "Partizan Mozzart Bet Belgrade", credits: 8.5 },
            { id: 146, name: "Edgaras Ulanovas", position: "Forward", team: "Zalgiris Kaunas", credits: 8.5 },
            { id: 147, name: "TimothÃ© Luwawu-Cabarrot", position: "Forward", team: "Baskonia Vitoria-Gasteiz", credits: 8.5 },
            { id: 148, name: "Leandro Bolmaro", position: "Guard", team: "EA7 Emporio Armani Milan", credits: 8.5 },
            { id: 149, name: "Ish Wainright", position: "Forward", team: "Hapoel IBI Tel Aviv", credits: 8.5 },
            { id: 150, name: "Joel Ayayi", position: "Guard", team: "Paris Basketball", credits: 8.5 },
            { id: 151, name: "Ebuka Izundu", position: "Center", team: "Crvena Zvezda Meridianbet Belgrade", credits: 8.5 },
            { id: 152, name: "Vladimir Lucic", position: "Forward", team: "FC Bayern Munich", credits: 8.4 },
            { id: 153, name: "Tyler Dorsey", position: "Guard", team: "Olympiacos Piraeus", credits: 8.4 },
            { id: 154, name: "Azuolas Tubelis", position: "Forward", team: "Zalgiris Kaunas", credits: 8.4 },
            { id: 155, name: "Georgios Papagiannis", position: "Center", team: "Anadolu Efes Istanbul", credits: 8.3 },
            { id: 156, name: "Nemanja Nedovic", position: "Guard", team: "AS Monaco", credits: 8.3 },
            { id: 157, name: "Ignas Brazdeikis", position: "Forward", team: "Zalgiris Kaunas", credits: 8.3 },
            { id: 158, name: "Ismael Bako", position: "Center", team: "Paris Basketball", credits: 8.3 },
            { id: 159, name: "Matthew Morgan", position: "Guard", team: "Virtus Bologna", credits: 8.2 },
            { id: 160, name: "Derek Willis", position: "Forward", team: "Paris Basketball", credits: 8.2 },
            { id: 161, name: "Jaron Blossomgame", position: "Forward", team: "AS Monaco", credits: 8.2 },
            { id: 162, name: "Marius Grigonis", position: "Guard", team: "Panathinaikos AKTOR Athens", credits: 8.2 },
            { id: 163, name: "Devon Hall", position: "Guard", team: "Fenerbahce Beko Istanbul", credits: 8.2 },
            { id: 164, name: "Tarik Biberovic", position: "Forward", team: "Fenerbahce Beko Istanbul", credits: 8.2 },
            { id: 165, name: "Tamir Blatt", position: "Guard", team: "Maccabi Rapyd Tel Aviv", credits: 8.2 },
            { id: 166, name: "Usman Garuba", position: "Forward", team: "Real Madrid", credits: 8.1 },
            { id: 167, name: "Kostas Papanikolaou", position: "Forward", team: "Olympiacos Piraeus", credits: 8.1 },
            { id: 168, name: "Dario Brizuela", position: "Guard", team: "FC Barcelona", credits: 8.1 },
            { id: 169, name: "Jeremy Morgan", position: "Forward", team: "Paris Basketball", credits: 8.1 },
            { id: 170, name: "Matteo Spagnolo", position: "Guard", team: "Baskonia Vitoria-Gasteiz", credits: 8.0 },
            { id: 171, name: "Kenan Kamenjas", position: "Center", team: "Dubai Basketball", credits: 8.0 },
            { id: 172, name: "Myles Cale", position: "Forward", team: "FC Barcelona", credits: 8.0 },
            { id: 173, name: "Bruno Fernando", position: "Center", team: "Real Madrid", credits: 8.0 },
            { id: 174, name: "Clement Frisch", position: "Forward", team: "Baskonia Vitoria-Gasteiz", credits: 8.0 },
            { id: 175, name: "Armel Traore", position: "Forward", team: "LDLC ASVEL Villeurbanne", credits: 8.0 },
            { id: 176, name: "David Kramer", position: "Guard", team: "Real Madrid", credits: 8.0 },
            { id: 177, name: "Allan Dokossi", position: "Forward", team: "Paris Basketball", credits: 7.9 },
            { id: 178, name: "Deividas Sirvydis", position: "Guard", team: "Zalgiris Kaunas", credits: 7.8 },
            { id: 179, name: "Aleksa Avramovic", position: "Guard", team: "Dubai Basketball", credits: 7.8 },
            { id: 180, name: "Klemen Prepelic", position: "Guard", team: "Dubai Basketball", credits: 7.8 },
            { id: 181, name: "Mouhamed Faye", position: "Center", team: "Paris Basketball", credits: 7.8 },
            { id: 182, name: "Collin Malcolm", position: "Forward", team: "Hapoel IBI Tel Aviv", credits: 7.7 },
            { id: 183, name: "Nikos Rogkavopoulos", position: "Forward", team: "Panathinaikos AKTOR Athens", credits: 7.7 },
            { id: 184, name: "Uros Plavsic", position: "Center", team: "Crvena Zvezda Meridianbet Belgrade", credits: 7.7 },
            { id: 185, name: "Niccolo Mannion", position: "Guard", team: "EA7 Emporio Armani Milan", credits: 7.7 },
            { id: 186, name: "Awudu Abass", position: "Forward", team: "Dubai Basketball", credits: 7.7 },
            { id: 187, name: "Justin Anderson", position: "Forward", team: "Dubai Basketball", credits: 7.6 },
            { id: 188, name: "Rodrigue Beaubois", position: "Guard", team: "Anadolu Efes Istanbul", credits: 7.6 },
            { id: 189, name: "Brice Dessert", position: "Center", team: "Anadolu Efes Istanbul", credits: 7.6 },
            { id: 190, name: "Armoni Brooks", position: "Guard", team: "EA7 Emporio Armani Milan", credits: 7.5 },
            { id: 191, name: "Youssoupha Fall", position: "Center", team: "FC Barcelona", credits: 7.5 },
            { id: 192, name: "Iffe Lundberg", position: "Guard", team: "Partizan Mozzart Bet Belgrade", credits: 7.5 },
            { id: 193, name: "Gabriele Procida", position: "Forward", team: "Real Madrid", credits: 7.5 },
            { id: 194, name: "Vassilis Toliopoulos", position: "Guard", team: "Panathinaikos AKTOR Athens", credits: 7.5 },
            { id: 195, name: "Justinian Jessup", position: "Forward", team: "FC Bayern Munich", credits: 7.5 },
            { id: 196, name: "Yoan Makoundou", position: "Center", team: "AS Monaco", credits: 7.5 },
            { id: 197, name: "Ethan Happ", position: "Center", team: "Valencia Basket", credits: 7.5 },
            { id: 198, name: "Nick Calathes", position: "Guard", team: "AS Monaco", credits: 7.4 },
            { id: 199, name: "Shaquielle McKissic", position: "Guard", team: "Olympiacos Piraeus", credits: 7.4 },
            { id: 200, name: "Vanja Marinkovic", position: "Forward", team: "Partizan Mozzart Bet Belgrade", credits: 7.4 },
            { id: 201, name: "Saliou Niang", position: "Forward", team: "Virtus Bologna", credits: 7.4 },
            { id: 202, name: "Andres Feliz", position: "Guard", team: "Real Madrid", credits: 7.3 },
            { id: 203, name: "Isiaha Mike", position: "Forward", team: "Partizan Mozzart Bet Belgrade", credits: 7.3 },
            { id: 204, name: "Kevarrius Hayes", position: "Center", team: "AS Monaco", credits: 7.3 },
            { id: 205, name: "Alessandro Pajola", position: "Guard", team: "Virtus Bologna", credits: 7.3 },
            { id: 206, name: "Mouhamet Diouf", position: "Center", team: "Virtus Bologna", credits: 7.3 },
            { id: 207, name: "Bodian Massa", position: "Center", team: "LDLC ASVEL Villeurbanne", credits: 7.3 },
            { id: 208, name: "Juan Nunez", position: "Guard", team: "FC Barcelona", credits: 7.2 },
            { id: 209, name: "Arturs Zagars", position: "Guard", team: "Fenerbahce Beko Istanbul", credits: 7.2 },
            { id: 210, name: "Mam Jaiteh", position: "Center", team: "Dubai Basketball", credits: 7.2 },
            { id: 211, name: "Uros Trifunovic", position: "Forward", team: "Maccabi Rapyd Tel Aviv", credits: 7.2 },
            { id: 212, name: "Yankuba Sima", position: "Center", team: "Valencia Basket", credits: 7.2 },
            { id: 213, name: "Kamar Baldwin", position: "Guard", team: "FC Bayern Munich", credits: 7.1 },
            { id: 214, name: "Daulton Hommes", position: "Forward", team: "Paris Basketball", credits: 7.1 },
            { id: 215, name: "Matthew Strazel", position: "Guard", team: "AS Monaco", credits: 7.1 },
            { id: 216, name: "Khem Birch", position: "Center", team: "Fenerbahce Beko Istanbul", credits: 7.1 },
            { id: 217, name: "Donatas Motiejunas", position: "Center", team: "AS Monaco", credits: 7.0 },
            { id: 218, name: "Rolands Smits", position: "Forward", team: "Anadolu Efes Istanbul", credits: 7.0 },
            { id: 219, name: "Aleksej Pokusevski", position: "Forward", team: "Partizan Mozzart Bet Belgrade", credits: 7.0 },
            { id: 220, name: "Quinn Ellis", position: "Guard", team: "EA7 Emporio Armani Milan", credits: 7.0 },
            { id: 221, name: "Stefan Jovic", position: "Guard", team: "FC Bayern Munich", credits: 7.0 },
            { id: 222, name: "Onuralp Bitim", position: "Forward", team: "Fenerbahce Beko Istanbul", credits: 7.0 },
            { id: 223, name: "Bastien Vautier", position: "Center", team: "LDLC ASVEL Villeurbanne", credits: 7.0 },
            { id: 224, name: "Nathan Reuvers", position: "Forward", team: "Valencia Basket", credits: 7.0 },
            { id: 225, name: "Marcio Santos", position: "Center", team: "Maccabi Rapyd Tel Aviv", credits: 6.9 },
            { id: 226, name: "Rodions Kurucs", position: "Forward", team: "Baskonia Vitoria-Gasteiz", credits: 6.9 },
            { id: 227, name: "Joel Parra", position: "Forward", team: "FC Barcelona", credits: 6.8 },
            { id: 228, name: "Izan Almansa", position: "Forward", team: "Real Madrid", credits: 6.8 },
            { id: 229, name: "Sehmus Hazer", position: "Guard", team: "Anadolu Efes Istanbul", credits: 6.7 },
            { id: 230, name: "Dovydas Giedraitis", position: "Guard", team: "Zalgiris Kaunas", credits: 6.6 },
            { id: 231, name: "Laurynas Birutis", position: "Center", team: "Zalgiris Kaunas", credits: 6.5 },
            { id: 232, name: "Andreas Obst", position: "Guard", team: "FC Bayern Munich", credits: 6.5 },
            { id: 233, name: "Mbaye Ndiaye", position: "Center", team: "LDLC ASVEL Villeurbanne", credits: 6.5 },
            { id: 234, name: "Isaiah Canaan", position: "Guard", team: "Crvena Zvezda Meridianbet Belgrade", credits: 6.5 },
            { id: 235, name: "Josep Puerto", position: "Guard", team: "Valencia Basket", credits: 6.5 },
            { id: 236, name: "Sergio De Larrea", position: "Guard", team: "Valencia Basket", credits: 6.5 },
            { id: 237, name: "Danilo Andjusic", position: "Guard", team: "Dubai Basketball", credits: 6.5 },
            { id: 238, name: "Gur Lavy", position: "Forward", team: "Maccabi Rapyd Tel Aviv", credits: 6.5 },
            { id: 239, name: "Ercan Osmani", position: "Forward", team: "Anadolu Efes Istanbul", credits: 6.5 },
            { id: 240, name: "Jilson Bango", position: "Center", team: "Fenerbahce Beko Istanbul", credits: 6.4 },
            { id: 241, name: "Daniel Hackett", position: "Guard", team: "Virtus Bologna", credits: 6.3 },
            { id: 242, name: "Khalifa Diop", position: "Center", team: "Baskonia Vitoria-Gasteiz", credits: 6.3 },
            { id: 243, name: "Alberto Abalde", position: "Forward", team: "Real Madrid", credits: 6.1 },
            { id: 244, name: "Juani Marcos", position: "Guard", team: "FC Barcelona", credits: 6.1 },
            { id: 245, name: "Bryant Dunston", position: "Center", team: "EA7 Emporio Armani Milan", credits: 6.0 },
            { id: 246, name: "John DiBartolomeo", position: "Guard", team: "Maccabi Rapyd Tel Aviv", credits: 6.0 },
            { id: 247, name: "Stefano Tonut", position: "Guard", team: "EA7 Emporio Armani Milan", credits: 6.0 },
            { id: 248, name: "Arnas Butkevicius", position: "Forward", team: "Zalgiris Kaunas", credits: 6.0 },
            { id: 249, name: "Nathan Sestina", position: "Forward", team: "Valencia Basket", credits: 6.0 },
            { id: 250, name: "Mario Nakic", position: "Forward", team: "Partizan Mozzart Bet Belgrade", credits: 5.9 },
            { id: 251, name: "Yakuba Ouattara", position: "Guard", team: "Paris Basketball", credits: 5.8 },
            { id: 252, name: "Oscar Da Silva", position: "Forward", team: "FC Bayern Munich", credits: 5.7 },
            { id: 253, name: "Sergio Llull", position: "Guard", team: "Real Madrid", credits: 5.6 },
            { id: 254, name: "Niels Giffey", position: "Forward", team: "FC Bayern Munich", credits: 5.6 },
            { id: 255, name: "Justus Hollatz", position: "Guard", team: "FC Bayern Munich", credits: 5.5 },
            { id: 256, name: "Elias Harris", position: "Center", team: "FC Bayern Munich", credits: 5.5 },
            { id: 257, name: "Kostas Antetokounmpo", position: "Center", team: "Olympiacos Piraeus", credits: 5.5 },
            { id: 258, name: "Terry Tarpey", position: "Guard", team: "AS Monaco", credits: 5.4 },
            { id: 259, name: "Giannoulis Larentzakis", position: "Guard", team: "Olympiacos Piraeus", credits: 5.3 },
            { id: 260, name: "Erkan Yilmaz", position: "Forward", team: "Anadolu Efes Istanbul", credits: 5.3 },
            { id: 261, name: "William Rayman", position: "Forward", team: "Maccabi Rapyd Tel Aviv", credits: 5.3 },
            { id: 262, name: "Ousmane Diop", position: "Forward", team: "EA7 Emporio Armani Milan", credits: 5.2 },
            { id: 263, name: "Nicola Akele", position: "Forward", team: "Virtus Bologna", credits: 5.2 },
            { id: 264, name: "Leopold Cavaliere", position: "Forward", team: "Paris Basketball", credits: 5.1 },
            { id: 265, name: "Rafa Villar", position: "Guard", team: "Baskonia Vitoria-Gasteiz", credits: 5.1 },
            { id: 266, name: "Ognjen Dobric", position: "Forward", team: "Crvena Zvezda Meridianbet Belgrade", credits: 5.0 },
            { id: 267, name: "Dejan Davidovac", position: "Forward", team: "Crvena Zvezda Meridianbet Belgrade", credits: 5.0 },
            { id: 268, name: "David Lighty", position: "Forward", team: "LDLC ASVEL Villeurbanne", credits: 5.0 },
            { id: 269, name: "Enzo Shahrvin", position: "Center", team: "Paris Basketball", credits: 5.0 },
            { id: 270, name: "Giampaolo Ricci", position: "Forward", team: "EA7 Emporio Armani Milan", credits: 5.0 },
            { id: 271, name: "Oz Blayzer", position: "Forward", team: "Hapoel IBI Tel Aviv", credits: 5.0 },
            { id: 272, name: "David Mutaf", position: "Guard", team: "Anadolu Efes Istanbul", credits: 5.0 },
            { id: 273, name: "Stefan Miljenovic", position: "Guard", team: "Crvena Zvezda Meridianbet Belgrade", credits: 5.0 },
            { id: 274, name: "Abramo Canka", position: "Guard", team: "Virtus Bologna", credits: 4.9 },
            { id: 275, name: "Diego Flaccadori", position: "Guard", team: "EA7 Emporio Armani Milan", credits: 4.8 },
            { id: 276, name: "Nemanja Dangubic", position: "Forward", team: "Dubai Basketball", credits: 4.8 },
            { id: 277, name: "Juhann Begarin", position: "Guard", team: "AS Monaco", credits: 4.5 },
            { id: 278, name: "Leon Kratzer", position: "Center", team: "FC Bayern Munich", credits: 4.5 },
            { id: 279, name: "Sebastian Herrera", position: "Guard", team: "Paris Basketball", credits: 4.5 },
            { id: 280, name: "Melih Mahmutoglu", position: "Guard", team: "Fenerbahce Beko Istanbul", credits: 4.5 },
            { id: 281, name: "Dalibor Ilic", position: "Forward", team: "Crvena Zvezda Meridianbet Belgrade", credits: 4.5 },
            { id: 282, name: "Arijan Lakic", position: "Guard", team: "Partizan Mozzart Bet Belgrade", credits: 4.3 },
            { id: 283, name: "Edwin Jackson", position: "Forward", team: "LDLC ASVEL Villeurbanne", credits: 4.2 },
            { id: 284, name: "Metecan Birsen", position: "Forward", team: "Fenerbahce Beko Istanbul", credits: 4.2 },
            { id: 285, name: "Thirdy Ravena", position: "Guard", team: "Dubai Basketball", credits: 4.2 },
            { id: 286, name: "Ioannis Kouzeloglou", position: "Center", team: "Panathinaikos AKTOR Athens", credits: 4.2 },
            { id: 287, name: "Panagiotis Kalaitzakis", position: "Forward", team: "Panathinaikos AKTOR Athens", credits: 4.1 },
            { id: 288, name: "Mitar Bosnjakovic", position: "Guard", team: "Partizan Mozzart Bet Belgrade", credits: 4.0 },
            { id: 289, name: "Burakcan Yildizli", position: "Forward", team: "Anadolu Efes Istanbul", credits: 4.0 },
            { id: 290, name: "Yigit Hamza Mestoglu", position: "Forward", team: "Fenerbahce Beko Istanbul", credits: 4.0 },
            { id: 291, name: "Mert Eksioglu", position: "Guard", team: "Fenerbahce Beko Istanbul", credits: 4.0 },
            { id: 292, name: "Guy Palatin", position: "Guard", team: "Hapoel IBI Tel Aviv", credits: 4.0 },
            { id: 293, name: "Alexandros Samodurov", position: "Forward", team: "Panathinaikos AKTOR Athens", credits: 4.0 },
            { id: 294, name: "Bar Timor", position: "Guard", team: "Hapoel IBI Tel Aviv", credits: 4.0 },
            { id: 295, name: "Lazar Stojkovic", position: "Center", team: "Crvena Zvezda Meridianbet Belgrade", credits: 4.0 },
            { id: 296, name: "Ognjen Radosic", position: "Guard", team: "Crvena Zvezda Meridianbet Belgrade", credits: 4.0 },
            { id: 297, name: "Iftach Ziv", position: "Guard", team: "Hapoel IBI Tel Aviv", credits: 4.0 },
            { id: 298, name: "Itay Segev", position: "Center", team: "Hapoel IBI Tel Aviv", credits: 4.0 },
            { id: 299, name: "Omiros Netzipoglou", position: "Guard", team: "Olympiacos Piraeus", credits: 4.0 },
            { id: 300, name: "Ilian Moungalla", position: "Guard", team: "Paris Basketball", credits: 4.0 },
            { id: 301, name: "Matteo Accorsi", position: "Guard", team: "Virtus Bologna", credits: 4.0 },
        ].map(p => ({...p, draftedBy: null}));

        // --- APPLICATION STATE ---
        let appState = {
            user: null,
            draft: null,
            timerInterval: null,
            activeFilter: 'All',
            activeTab: 'players',
            watchlistOnly: false,
            watchlist: [],
            searchTerm: '',
        };

        // --- FIREBASE INITIALIZATION ---
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        
        const urlParams = new URLSearchParams(window.location.search);
        const draftId = urlParams.get('draftId');
        const draftDocRef = draftId ? doc(db, `/artifacts/${appId}/public/data/drafts/${draftId}`) : null;


        // --- DOM ELEMENTS ---
        const screens = {
            landing: document.getElementById('landing-screen'),
            setup: document.getElementById('setup-screen'),
            draft: document.getElementById('draft-screen'),
            finished: document.getElementById('finished-screen'),
        };
        const elements = {
            teamNameInput: document.getElementById('team-name-input'),
            joinButton: document.getElementById('join-button'),
            teamsList: document.getElementById('teams-list'),
            adminControls: document.getElementById('admin-controls'),
            timePerPickInput: document.getElementById('time-per-pick-input'),
            startButton: document.getElementById('start-button'),
            roundPickStatus: document.getElementById('round-pick-status'),
            onTheClockCard: document.getElementById('on-the-clock-card'),
            onTheClockTeam: document.getElementById('on-the-clock-team'),
            timerBar: document.getElementById('timer-bar'),
            timerDisplay: document.getElementById('timer-display'),
            timerMessage: document.getElementById('timer-message'),
            teamsBarGrid: document.getElementById('teams-bar-grid'),
            playersTableBody: document.getElementById('players-table-body'),
            draftBoardBody: document.getElementById('draft-board-body'),
            finalRosters: document.getElementById('final-rosters'),
            adminResetButtonContainer: document.getElementById('admin-reset-button-container'),
            joinForm: document.getElementById('join-form'),
            draftIdDisplay: document.getElementById('draft-id-display'),
            newDraftButton: document.getElementById('new-draft-button'),
            createDraftButton: document.getElementById('create-draft-button'),
            joinDraftIdInput: document.getElementById('join-draft-id-input'),
            joinDraftButton: document.getElementById('join-draft-button'),
            filterControls: document.getElementById('filter-controls'),
            searchInput: document.getElementById('search-input'),
            draftTabs: document.getElementById('draft-tabs'),
            playersTabContent: document.getElementById('players-tab-content'),
            boardTabContent: document.getElementById('board-tab-content'),
        };
        
        // --- RENDER FUNCTIONS ---
        function switchScreen(screenName) {
            Object.values(screens).forEach(s => s.classList.add('hidden'));
            if (screens[screenName]) {
                screens[screenName].classList.remove('hidden');
            }
        }
        
        function render() {
            if (!draftId) {
                switchScreen('landing');
                return;
            }
            if (!appState.draft) return;
            
            const { status } = appState.draft;

            if (status === 'setup') {
                switchScreen('setup');
                renderSetupScreen();
            } else if (status === 'drafting') {
                switchScreen('draft');
                renderDraftScreen();
            } else if (status === 'finished') {
                switchScreen('finished');
                renderFinishedScreen();
            }
        }

        function renderSetupScreen() {
            const { users, createdBy } = appState.draft;
            const userIds = Object.keys(users);

            elements.draftIdDisplay.textContent = draftId;

            if (appState.user && createdBy === appState.user.uid) {
                elements.adminControls.classList.remove('hidden');
            }
            
            if (appState.user && users[appState.user.uid]) {
                elements.joinForm.classList.add('hidden');
            }

            if (userIds.length > 0) {
                elements.teamsList.innerHTML = userIds.map(uid => `
                    <div class="bg-slate-700 p-3 rounded-md text-center font-semibold">${users[uid].name}</div>
                `).join('');
            } else {
                elements.teamsList.innerHTML = `<p class="text-slate-500 py-4">No teams have joined yet.</p>`;
            }
        }

        function renderDraftScreen() {
            const { players, users, draftOrder, currentPickIndex, timePerPick, createdBy } = appState.draft;
            
            const numTeams = Object.keys(users).length;
            if (numTeams === 0) return;
            const currentTurnUid = draftOrder[currentPickIndex];
            const currentTurnTeam = users[currentTurnUid];
            const isMyTurn = appState.user && appState.user.uid === currentTurnUid;

            elements.roundPickStatus.textContent = `${Math.floor(currentPickIndex / numTeams) + 1} / ${currentPickIndex % numTeams + 1}`;
            elements.onTheClockTeam.textContent = currentTurnTeam ? currentTurnTeam.name : '...';
            elements.onTheClockCard.classList.toggle('current-turn-glow', isMyTurn);
            
            elements.teamsBarGrid.innerHTML = Object.entries(users).map(([uid, teamData]) => {
                const roster = players.filter(p => p.draftedBy === uid);
                const counts = { Guard: 0, Forward: 0, Center: 0 };
                roster.forEach(p => { counts[p.position]++; });

                return `
                    <div class="p-3 rounded-lg border-2 ${uid === currentTurnUid ? 'bg-teal-900/50 border-teal-500' : 'bg-slate-700 border-transparent'}">
                        <p class="font-bold text-white truncate">${teamData.name}</p>
                        <p class="text-xs text-slate-400">
                            G:${ROSTER_SIZE.Guard - counts.Guard} F:${ROSTER_SIZE.Forward - counts.Forward} C:${ROSTER_SIZE.Center - counts.Center}
                        </p>
                    </div>
                `;
            }).join('');
            
            // Render correct tab
            if (appState.activeTab === 'players') {
                renderAvailablePlayers();
            } else {
                renderDraftBoard();
            }
            
            if (appState.user && createdBy === appState.user.uid) {
                elements.adminResetButtonContainer.innerHTML = `
                    <button id="reset-button" class="bg-red-800/50 hover:bg-red-700 text-red-300 hover:text-white border border-red-700 font-bold py-2 px-4 rounded-lg">
                        Reset Draft
                    </button>
                `;
            }

            startTimer(timePerPick);
        }

        function renderAvailablePlayers() {
            const { players } = appState.draft;
            const isMyTurn = appState.user && appState.user.uid === appState.draft.draftOrder[appState.draft.currentPickIndex];

            const filteredPlayers = players.filter(p => {
                const isOnWatchlist = appState.watchlist.includes(p.id);
                const positionMatch = appState.activeFilter === 'All' || p.position === appState.activeFilter;
                const searchMatch = appState.searchTerm === '' || 
                                    p.name.toLowerCase().includes(appState.searchTerm) || 
                                    p.team.toLowerCase().includes(appState.searchTerm);
                
                if (appState.watchlistOnly) {
                    return !p.draftedBy && isOnWatchlist && positionMatch && searchMatch;
                }
                return !p.draftedBy && positionMatch && searchMatch;
            });
            
            const availablePlayers = filteredPlayers.sort((a,b) => b.credits - a.credits);

            elements.playersTableBody.innerHTML = availablePlayers.map(p => {
                 const myTeamRoster = players.filter(pl => pl.draftedBy === appState.user.uid);
                 const positionCount = myTeamRoster.filter(pl => pl.position === p.position).length;
                 const canDraft = isMyTurn && positionCount < ROSTER_SIZE[p.position];

                return `
                    <tr class="border-b border-slate-800 hover:bg-slate-800/50 transition-colors">
                        <td class="p-3 text-center">
                            <button data-player-id="${p.id}" class="watchlist-star text-slate-600 hover:text-yellow-400 transition-colors ${appState.watchlist.includes(p.id) ? 'active' : ''}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="m12 17.27 4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72 3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18-1.1 4.72c-.2.86.73 1.54 1.49 1.08l4.15-2.5z"/></svg>
                            </button>
                        </td>
                        <td class="p-3">
                            <p class="font-bold text-white tracking-wide">${p.name}</p>
                            <p class="text-sm text-slate-500">${p.team}</p>
                        </td>
                        <td class="p-3 text-center text-sm font-semibold text-slate-400">${p.position}</td>
                        <td class="p-3 text-center font-semibold text-teal-400 text-lg">${p.credits.toFixed(1)}</td>
                        <td class="p-3 text-right">
                             ${ canDraft ? `
                                <button data-player-id="${p.id}" class="draft-button bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-bold py-2 px-4 rounded-md hover:from-teal-600 hover:to-cyan-600">
                                    Draft
                                </button>
                             ` : ''}
                        </td>
                    </tr>
                `
            }).join('');
        }

        function renderDraftBoard() {
            const { players, users, draftOrder } = appState.draft;
            const numTeams = Object.keys(users).length;

            elements.draftBoardBody.innerHTML = draftOrder.map((uid, index) => {
                const player = players.find(p => p.draftedBy === uid && players.filter(pl => pl.draftedBy === uid).map(pl=>pl.id).includes(p.id));
                const pickedPlayer = players.find(p => p.draftedBy === uid && p.pickNumber === index);
                 const allPicks = players.filter(p => p.draftedBy).sort((a,b) => a.pickNumber - b.pickNumber);
                 const currentPickPlayer = allPicks[index];


                const round = Math.floor(index / numTeams) + 1;
                const pick = (index % numTeams) + 1;

                return `
                    <tr class="border-b border-slate-800">
                        <td class="p-3 font-mono text-slate-500">${round}.${pick.toString().padStart(2,'0')}</td>
                        <td class="p-3 font-bold text-white">${currentPickPlayer ? currentPickPlayer.name : '-'}</td>
                        <td class="p-3 text-slate-400">${users[uid] ? users[uid].name : '-'}</td>
                    </tr>
                `;
            }).join('');
        }

        function renderFinishedScreen() {
            const { players, users } = appState.draft;
            elements.finalRosters.innerHTML = Object.entries(users).map(([uid, teamData]) => {
                const roster = players.filter(p => p.draftedBy === uid).sort((a, b) => {
                    const positionOrder = { 'Guard': 1, 'Forward': 2, 'Center': 3 };
                    return positionOrder[a.position] - positionOrder[b.position];
                });

                return `
                     <div class="bg-slate-800 p-4 rounded-lg">
                        <h3 class="font-bold text-xl text-white mb-2">${teamData.name}</h3>
                        <div class="space-y-1">
                        ${roster.map(p => `
                             <div class="bg-slate-700/50 p-2 rounded-md text-sm flex justify-between items-center">
                                 <span class="font-semibold text-slate-300 truncate pr-2">
                                     <span class="font-mono text-xs text-slate-500 mr-2 w-8 inline-block">${p.position.substring(0,3).toUpperCase()}</span>
                                     ${p.name}
                                 </span>
                                 <span class="text-teal-400 font-bold">${p.credits.toFixed(1)}</span>
                             </div>
                        `).join('')}
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function renderFilterControls() {
             const filters = ['All', 'Guard', 'Forward', 'Center', 'Watchlist'];
             elements.filterControls.innerHTML = filters.map(f => {
                let isActive = false;
                if (f === 'Watchlist') {
                    isActive = appState.watchlistOnly;
                } else {
                    isActive = appState.activeFilter === f && !appState.watchlistOnly;
                }
                return `<button data-filter="${f}" class="filter-button px-4 py-2 text-sm font-semibold rounded-md transition-colors ${isActive ? 'active' : 'bg-slate-700 hover:bg-slate-600'}">${f}</button>`;
             }).join('');
        }

        // --- TIMER LOGIC ---
        function startTimer(duration) {
            clearInterval(appState.timerInterval);
            if (!appState.draft.pickStartTime) return;

            const startTime = appState.draft.pickStartTime;
            let lastMessage = '';
            
            appState.timerInterval = setInterval(() => {
                const now = Date.now();
                const elapsed = Math.floor((now - startTime) / 1000);
                const remaining = Math.max(0, duration - elapsed);
                
                const minutes = Math.floor(remaining / 60);
                const seconds = remaining % 60;
                elements.timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const percentage = (remaining / duration) * 100;
                elements.timerBar.style.width = `${percentage}%`;

                if(remaining <= 15) {
                    if (elements.timerMessage.textContent === '' || parseInt(elements.timerMessage.dataset.time, 10) !== remaining) {
                        let newMessage;
                        do {
                            newMessage = FUNNY_MESSAGES[Math.floor(Math.random() * FUNNY_MESSAGES.length)];
                        } while (newMessage === lastMessage);
                        lastMessage = newMessage;
                        elements.timerMessage.textContent = newMessage;
                        elements.timerMessage.dataset.time = remaining;
                    }
                } else {
                    elements.timerMessage.textContent = '';
                }

                if (remaining <= 0) {
                    clearInterval(appState.timerInterval);
                    if (appState.user && appState.user.uid === appState.draft.draftOrder[appState.draft.currentPickIndex]) {
                       handleAutoPick();
                    }
                }
            }, 1000);
        }
        
        // --- EVENT HANDLERS & LOGIC ---
        async function handleJoinDraft() {
            if (!appState.user) { alert("Authenticating... please wait a moment."); return; }
            const teamName = elements.teamNameInput.value.trim();
            if (teamName) {
                await updateDoc(draftDocRef, {
                    [`users.${appState.user.uid}`]: { name: teamName }
                });
            }
        }
        
        async function handleStartDraft() {
            const userIds = Object.keys(appState.draft.users);
            if (userIds.length < 1) { 
                alert("You need at least one team to start a draft.");
                return;
            }
            const shuffledUserIds = [...userIds].sort(() => Math.random() - 0.5);

            let order = [];
            for (let i = 0; i < TOTAL_ROUNDS; i++) {
                order = order.concat(i % 2 === 0 ? shuffledUserIds : [...shuffledUserIds].reverse());
            }

            await updateDoc(draftDocRef, {
                status: 'drafting',
                draftOrder: order,
                currentPickIndex: 0,
                timePerPick: parseInt(elements.timePerPickInput.value, 10) || 60,
                pickStartTime: Date.now(),
            });
        }
        
        async function handleDraftPlayer(playerId) {
            const { players, currentPickIndex, draftOrder } = appState.draft;
            const playerToDraft = players.find(p => p.id === playerId);
            if (!playerToDraft || playerToDraft.draftedBy) return;

            const updatedPlayers = players.map(p =>
                p.id === playerId ? { ...p, draftedBy: appState.user.uid, pickNumber: currentPickIndex } : p
            );
            
            const isLastPick = currentPickIndex + 1 >= draftOrder.length;

            await updateDoc(draftDocRef, {
                players: updatedPlayers,
                currentPickIndex: currentPickIndex + 1,
                status: isLastPick ? 'finished' : 'drafting',
                pickStartTime: isLastPick ? null : Date.now(),
            });
        }
        
        async function handleAutoPick() {
            const { players } = appState.draft;
            const myTeamRoster = players.filter(pl => pl.draftedBy === appState.user.uid);
            
            const bestAvailablePlayer = players
                .filter(p => !p.draftedBy)
                .sort((a,b) => b.credits - a.credits)
                .find(p => {
                    const positionCount = myTeamRoster.filter(pl => pl.position === p.position).length;
                    return positionCount < ROSTER_SIZE[p.position];
                });

            if(bestAvailablePlayer) {
                await handleDraftPlayer(bestAvailablePlayer.id);
            } else {
                 await updateDoc(draftDocRef, { currentPickIndex: appState.draft.currentPickIndex + 1, pickStartTime: Date.now() });
            }
        }

        async function handleResetDraft() {
            if (!confirm("Are you sure you want to reset the entire draft?")) return;
             await setDoc(draftDocRef, {
                status: 'setup',
                players: PLAYERS_LIST.map(p => ({...p, draftedBy: null, pickNumber: null})),
                users: {},
                draftOrder: [],
                currentPickIndex: 0,
                timePerPick: 60,
                createdBy: appState.user.uid,
             });
        }
        
        function handleFilterClick(filter) {
            if (filter === 'Watchlist') {
                appState.watchlistOnly = !appState.watchlistOnly;
            } else {
                appState.activeFilter = filter;
                appState.watchlistOnly = false;
            }
            renderFilterControls();
            renderDraftScreen();
        }
        
        function handleWatchlistToggle(playerId) {
            const index = appState.watchlist.indexOf(playerId);
            if (index > -1) {
                appState.watchlist.splice(index, 1);
            } else {
                appState.watchlist.push(playerId);
            }
            localStorage.setItem(`watchlist_${draftId}`, JSON.stringify(appState.watchlist));
            renderDraftScreen();
        }
        
        function handleTabClick(tab) {
            appState.activeTab = tab;
            elements.playersTabContent.classList.toggle('hidden', tab !== 'players');
            elements.boardTabContent.classList.toggle('hidden', tab !== 'board');
            
            document.querySelectorAll('.tab-button').forEach(btn => {
                const isActive = btn.dataset.tab === tab;
                btn.classList.toggle('active', isActive);
                btn.classList.toggle('border-teal-500', isActive);
                btn.classList.toggle('text-teal-400', isActive);
                btn.classList.toggle('border-transparent', !isActive);
                btn.classList.toggle('text-slate-400', !isActive);
            });
            renderDraftScreen();
        }

        // --- MAIN APP LOGIC ---
        function initialize() {
            if (!draftId) {
                switchScreen('landing');
                elements.createDraftButton.addEventListener('click', () => {
                    const newId = Math.random().toString(36).substring(2, 8).toUpperCase();
                    window.location.search = `?draftId=${newId}`;
                });
                elements.joinDraftButton.addEventListener('click', () => {
                    const joinId = elements.joinDraftIdInput.value.trim().toUpperCase();
                    if (joinId) {
                        window.location.search = `?draftId=${joinId}`;
                    }
                });
                return;
            }

            appState.watchlist = JSON.parse(localStorage.getItem(`watchlist_${draftId}`)) || [];
            
            elements.joinButton.addEventListener('click', handleJoinDraft);
            elements.startButton.addEventListener('click', handleStartDraft);
            elements.searchInput.addEventListener('input', (e) => {
                appState.searchTerm = e.target.value.toLowerCase();
                renderDraftScreen();
            });
            elements.playersTableBody.addEventListener('click', (e) => {
                const draftButton = e.target.closest('.draft-button');
                const starButton = e.target.closest('.watchlist-star');
                if (draftButton) {
                    const playerId = parseInt(draftButton.dataset.playerId, 10);
                    handleDraftPlayer(playerId);
                }
                if (starButton) {
                    const playerId = parseInt(starButton.dataset.playerId, 10);
                    handleWatchlistToggle(playerId);
                }
            });
            elements.adminResetButtonContainer.addEventListener('click', (e) => {
                if (e.target.id === 'reset-button') {
                    handleResetDraft();
                }
            });
             elements.draftIdDisplay.addEventListener('click', () => {
                navigator.clipboard.writeText(draftId).then(() => alert('Room ID copied to clipboard!'));
             });
             elements.newDraftButton.addEventListener('click', () => {
                window.location.search = '';
             });
             elements.filterControls.addEventListener('click', (e) => {
                if (e.target.classList.contains('filter-button')) {
                    handleFilterClick(e.target.dataset.filter);
                }
             });
             elements.draftTabs.addEventListener('click', (e) => {
                if(e.target.closest('.tab-button')) {
                    handleTabClick(e.target.closest('.tab-button').dataset.tab);
                }
             });

            onAuthStateChanged(auth, (user) => {
                if (user) {
                    appState.user = user;
                    onSnapshot(draftDocRef, (docSnap) => {
                        if (docSnap.exists()) {
                            appState.draft = docSnap.data();
                        } else if(appState.user) {
                             setDoc(draftDocRef, {
                                status: 'setup',
                                players: PLAYERS_LIST.map(p => ({...p, draftedBy: null, pickNumber: null})),
                                users: {},
                                draftOrder: [],
                                currentPickIndex: 0,
                                timePerPick: 60,
                                createdBy: appState.user.uid,
                             });
                        }
                        render();
                        renderFilterControls();
                    });
                } else {
                    signInAnonymously(auth);
                }
            });
        }
        
        initialize();
    </script>
</body>
</html>

